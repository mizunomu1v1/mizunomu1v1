## ğŸ§ã‚¹ãƒˆãƒªãƒ¼ãƒ ç·´ç¿’

### äº‹å‰çŸ¥è­˜

#### ãƒ©ãƒ ãƒ€å¼ã¨ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§

- streamã®å¼•æ•°ã¯ãƒ©ãƒ ãƒ€å¼ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã ãŒã€ç°¡æ½”ã«æ›¸ããŸã‚ã«ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã‚’ä¸»ã«ä½¿ã£ãŸ
- ãƒ©ãƒ ãƒ€å¼ã¯`å¼•æ•° -> å¯¾ã™ã‚‹å‡¦ç†` ã‚’æ›¸ããŒã€ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã¯`ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸­èº«ï¼ˆå‹ï¼‰::ãƒ¡ã‚½ãƒƒãƒ‰`ã®ã¿ã§ã„ã‘ã‚‹ãŸã‚ã€å¯èª­æ€§ãŒä¸ŠãŒã‚‹

### foræ–‡ã‚’æ›¸ãæ›ãˆã¦ã¿ã‚ˆã†

#### 1. åˆè¨ˆå€¤ã®è¨ˆç®—

- **foråˆ†ã®ã‚µãƒ³ãƒ—ãƒ«**
```java
public class Main {
    public static void main(String[] args) throws Exception {
        
    // ä¸­èº«å›ºå®šã®ãƒªã‚¹ãƒˆã‚’ä½œæˆ    
    List<Integer> numbers = Arrays.asList(1,2,3,4,5);
    // [1, 2, 3, 4, 5] â€»[]ã¨,ã¯toStringã«ã‚ˆã‚‹
    System.out.println(numbers);
    
    int sum = 0;
    for(int number: numbers){
        sum += number;
    }
    System.out.println(sum);
    }
}
```

- **Streamã«æ›¸ãæ›ãˆ**
```java
import java.util.*;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<Integer> numbers = Arrays.asList(1,2,3,4,5);

    // Stream<Integer>ã‚’ä½œæˆ
    int sum = numbers.stream()
                      // Stream<Integer>ã‚’intã«å¤‰æ›
                     .mapToInt(Integer::intValue)
                     .sum();
                     
    System.out.println(sum);   
     }
}
```

#### 2. è¦ç´ ã®å¤‰æ›ã¨ãƒªã‚¹ãƒˆä½œæˆ

- **foråˆ†ã®ã‚µãƒ³ãƒ—ãƒ«**
```java
import java.util.*;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<String> names = Arrays.asList("neko","inu","usagi");
    List<String> upperCaseNames = new ArrayList<>();

    for(String name : names){
        upperCaseNames.add(name.toUpperCase());
    }

    System.out.println(upperCaseNames);
    
     }
}
```

- **Streamã«æ›¸ãæ›ãˆ**
```java
import java.util.*;
import java.util.stream.Collectors;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<String> names = Arrays.asList("neko","inu","usagi");
    List<String> upperCaseNames = names.stream()
      // ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã§å…¨è¦ç´ ã‚’ãƒ«ãƒ¼ãƒ—æ“ä½œ
      .map(String::toUpperCase)
      // çµ‚çµå‡¦ç†ã§è¦ç´ ã‚’ãƒªã‚¹ãƒˆã«ã¾ã¨ã‚ã‚‹
      .collect(Collectors.toList());

    System.out.println(upperCaseNames);
    
    }
}
```

#### 3. ãƒªã‚¹ãƒˆã®è¦ç´ ã‚’é›†ã‚ã¦ã‚³ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã«ã™ã‚‹

- **foråˆ†ã®ã‚µãƒ³ãƒ—ãƒ«**
```java
import java.util.*;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<String> animals = Arrays.asList("neko","inu","usagi");
    String result = "";
    
    for(String animal: animals){
        if(!result.isEmpty()){
            result += ", ";
        }
        result += animal;
    }
    System.out.println(result);
    }
}
```

- **Streamã«æ›¸ãæ›ãˆ**
```java
import java.util.*;
import java.util.stream.Collectors;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<String> animals = Arrays.asList("neko","inu","usagi");
    // çµ‚çµå‡¦ç†ã®joiningã§å‡¦ç†ã§ãã‚‹ã‹ã‚‰ä¸­é–“æ“ä½œã¯ãªã—
    String result = animals.stream().collect(Collectors.joining(", "));
    System.out.println(result);

    }
}
```

#### 4. å¶æ•°ã ã‘ã‚’äºŒä¹—ã—ã¦ãƒªã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹

- **foråˆ†ã®ã‚µãƒ³ãƒ—ãƒ«**
```java
import java.util.*;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<Integer> numbers = Arrays.asList(1,2,3,4,5,6);
    List<Integer> evenList = new ArrayList<>();
    
    for(Integer number : numbers){
        if(number % 2 == 0){
        evenList.add(number * number);
        }
    }
    System.out.println(evenList);
    }
}
```

- **Streamã«æ›¸ãæ›ãˆ**
```java
import java.util.*;
import java.util.stream.Collectors;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<Integer> numbers = Arrays.asList(1,2,3,4,5,6);
    List<Integer> evenList = numbers.stream()
        // æ¡ä»¶ã§ãƒ‡ãƒ¼ã‚¿ã‚’çµã‚‹
        .filter(num -> num % 2 == 0)
        // æ°—æ¥½ã«å€¤ã®å¤‰æ›
        .map(num -> num * num)
        // ãƒªã‚¹ãƒˆã«å¤‰æ›
        .collect(Collectors.toList());

    System.out.println(evenList);   
}
    }
```

### IntStreamã‚’ä½¿ã£ã¦ç¯„å›²ã‹ã‚‰Streamã‚’ç”Ÿæˆã™ã‚‹

#### 1. ç¯„å›²ã‚’ç”Ÿæˆã—ã¦è¡¨ç¤º
- `foreach()`
  - å„è¦ç´ ã‚’å‡¦ç†ã—ã¦**è¡¨ç¤ºã‚„å‡ºåŠ›**ã‚’è¡Œã†çµ‚ç«¯å‡¦ç†

```java
import java.util.*;
import java.util.stream.IntStream;

public class Main {
    public static void main(String[] args) throws Exception {        
    List<String> names = Arrays.asList("nasu","nakanishi");
    names.stream().map(String::toUpperCase).forEach(System.out::println);
    System.out.println(numberList);   
    }
}
```

#### 2. ç¯„å›²ã‚’ç”Ÿæˆã—ã¦é›†ç´„
- `boxed()`
  - å„è¦ç´ ã‚’å‡¦ç†ã—ã¦**å‹å¤‰æ›**ã‚’ä¸­é–“å‡¦ç†
- `collect()`
  - ãƒ‡ãƒ¼ã‚¿ã‚’æ–°ã—ã„ãƒªã‚¹ãƒˆã«**åé›†**ã™ã‚‹çµ‚ç«¯å‡¦ç†

```java
import java.util.*;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<Integer> numberList = IntStream.range(1,11)
        .boxed()
        .collect(Collectors.toList());
        System.out.println(numberList);
    }
}
```

#### 3. çµã£ã¦å‡¦ç†ã—ã¦ãƒªã‚¹ãƒˆåŒ–ï¼
```java
import java.util.*;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

public class Main {
    public static void main(String[] args) throws Exception {
        
    List<Integer> evenNumberList = IntStream.range(1,11)
        .filter(num -> num % 2 == 0) // å¶æ•°ã‚’çµã‚‹
        .map(num -> num * num) // å¶æ•°ã‚’äºŒä¹—
        .boxed() // Integerã«å¤‰æ›
        .collect(Collectors.toList());

        System.out.println(evenNumberList);
    }
}
```

#### 4. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å–ã‚Šå‡ºã—
```java
import java.util.*;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

public class Main {
    public static void main(String[] args) throws Exception {
    
     List<Product> products = List.of(
         new Product("ãŸã¾ã­ã",200),
         new Product("ãŸã¾ã”",166),
         new Product("ã¶ãŸã«ã",480)
         );     
        
        int total = products.stream()
            // intã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å–ã‚Šã ã™æ™‚ã¯mapToInt
            // Integerã‹ã‚‰intã«å¤‰æ›ã§ãã‚‹ãŸã‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹â—
            .mapToInt(Product::getPrice)
            .sum();

        List<String> productNames = products.stream()
            // Stringã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ°—ã«ã—ãªãã¦ã„ã„ãŸã‚mapã§OK
            .map(Product::getName)
            .collect(Collectors.toList());
            
        List<Integer> productPrice = products.stream()
            // integerã§ã‚‚è¨ˆç®—ã—ãªã‘ã‚Œã°mapã§OK
            .map(Product::getPrice)
            .collect(Collectors.toList());

         System.out.println("è²·ã£ãŸã‚‚ã®ï¼š" + productNames);
         System.out.println("ãŠå€¤æ®µï¼š" + productPrice);
         System.out.println("åˆè¨ˆï¼š" + total + "ã‚¨ãƒ³");
    }
}


class Product{
    private String name;
    private int price;
    
    public Product(String name, int price){
        this.name = name;
        this.price = price;
    }
    
    public String getName(){
        return name;
    }
    
    public int getPrice(){
        return price;
    }   
}
```
